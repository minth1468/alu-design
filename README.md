# alu-design

Cadence files of an ALU design.

## Define Inputs and Outputs

![alt text](https://github.com/minth1468/alu-design/blob/master/project%232d02/readme/alu-symbol.png?raw=true)

The ALU inputs consists of two 2-bit inputs (`A1` - `A0` and `B1` - `B0`) as operands, a 3-bit input (`OP0` - `OP2`) as the opcode specifying the desired arithmetic or logic operation to be performed, and a 1-bit enable input (`ena`) to enable or disable the ALU. The outputs consists of a 4-bit output (`O0` - `O3`) as the result and a 3-bit output (`V01`, `V2` and `V3`) as the valid bits of the corresponding outputs. The Operation modes of the ALU are as follows.

|Type of Operation | Opcode | Output Format | Valid Bits (V01) | Valid Bit (V2)| Valid Bit (V3)|
|---|---|---|---|---|---|
|Addition | 0 | 3-bit sum | 1 | 1 | 0|
|Subtraction | 1 | 3-bit Two's complement difference | 1 | 1 | 0|
|Multiplication | 2 | 4-bit product | 1 | 1 | 1|
|Division | 3 | 2-bit quotient + 2-bit remainder | 1 | 1 | 1|
|Shift Left | 4 | 2-bit result | 1 | 0 | 0|
|Shift Right | 5 | 2-bit result | 1 | 0 | 0|
|Bitwise OR | 6 | 2-bit result | 1 | 0 | 0|
|Bitwise AND | 7 | 2-bit result | 1 | 0 | 0|

## ALU Architecture

![alt text](https://github.com/minth1468/alu-design/blob/master/project%232d02/readme/alu-sch.png?raw=true)

The input Opcodes (`OP0` - `OP2`) and the global enable signal (`ena`) are fed into a decoder to select the specific operation. The decoder sends out 8 enable signals (`ena0` - `ena8`) to the corresponding operation modules. The operation modules take in the four operand bits (`A0` - `A1`, and `B0` - `B1`) and the corresponding enable signal and perform the arithmetic or logic operation. An output module takes in all the outputs from the operation modules and performs bitwise or on each output bit (`O0` - `O3`). Finally, an encoder takes in the global enable signal (`ena`), the enable signals generated by the decoder (`ena0` - `ena3`), and two operand bits (`B0` - `B1`) to infer the output valid bits (`V01`, `V2`, and `V3`). The critical path of the ALU is from the input opcodes through the decoder, operation module, and the output module to the output bits.

## Layout

![alt text](https://github.com/minth1468/alu-design/blob/master/project%232d02/readme/alu-layout.png?raw=true)

## Post-layout Simulation

All simulation results (`.csv` files + waveforms) are located in `alu-design/project#2d02/sim-result/`.

### Waveforms

![alt text](https://github.com/minth1468/alu-design/blob/master/project%232d02/readme/waves/ctrl.png?raw=true)

![alt text](https://github.com/minth1468/alu-design/blob/master/project%232d02/readme/waves/add.png?raw=true)

![alt text](https://github.com/minth1468/alu-design/blob/master/project%232d02/readme/waves/sub.png?raw=true)

![alt text](https://github.com/minth1468/alu-design/blob/master/project%232d02/readme/waves/mul.png?raw=true)

![alt text](https://github.com/minth1468/alu-design/blob/master/project%232d02/readme/waves/div.png?raw=true)

![alt text](https://github.com/minth1468/alu-design/blob/master/project%232d02/readme/waves/lsh.png?raw=true)

![alt text](https://github.com/minth1468/alu-design/blob/master/project%232d02/readme/waves/rsh.png?raw=true)

![alt text](https://github.com/minth1468/alu-design/blob/master/project%232d02/readme/waves/bor.png?raw=true)

![alt text](https://github.com/minth1468/alu-design/blob/master/project%232d02/readme/waves/band.png?raw=true)

### Delay Calculation

$t_{p, \mathrm{add}} = t_{p, \mathrm{O1}} = \frac{t_{plh, \mathrm{O1}}+t_{phl, \mathrm{O1}}}{2} = 0.560 \mathrm{ns}$

$t_{p, \mathrm{sub}} = t_{p, \mathrm{O1}} = \frac{t_{plh, \mathrm{O1}}+t_{phl, \mathrm{O1}}}{2} = 0.536 \mathrm{ns}$

$t_{p, \mathrm{mul}} = t_{p, \mathrm{O2}} = \frac{t_{plh, \mathrm{O2}}+t_{phl, \mathrm{O2}}}{2} = 0.548 \mathrm{ns}$

$t_{p, \mathrm{div}}  = t_{p, \mathrm{O2}} = \frac{t_{plh, \mathrm{O2}}+t_{phl, \mathrm{O2}}}{2} = 0.560 \mathrm{ns}$

$t_{p, \mathrm{lsh}}  = t_{p, \mathrm{O1}} = \frac{t_{plh, \mathrm{O1}}+t_{phl, \mathrm{O1}}}{2} = 0.397 \mathrm{ns}$

$t_{p, \mathrm{rsh}}  = t_{p, \mathrm{O0}} = \frac{t_{plh, \mathrm{O0}}+t_{phl, \mathrm{O0}}}{2} = 0.397 \mathrm{ns}$

$t_{p, \mathrm{bor}}  = t_{p, \mathrm{O1}} = \frac{t_{plh, \mathrm{O1}}+t_{phl, \mathrm{O1}}}{2} = 0.434 \mathrm{ns}$

$t_{p, \mathrm{band}}  = t_{p, \mathrm{O1}} = \frac{t_{plh, \mathrm{O1}}+t_{phl, \mathrm{O1}}}{2} = 0.405 \mathrm{ns}$
